import{i as f,s as q,r as x,B as N,j as e,L as v}from"./index-qh2YBMRJ.js";import{u as g,c as i,a as r,h as d}from"./handleClasses-AcZrC0U9.js";const E=()=>{const b=f(),[j,{isSuccess:t,isLoading:T,isError:c,error:m}]=q(),s=g({initialValues:{doctorName:"",gender:"",email:"",password:"",mobile:"",spec:"",schedule:{monday:{startTime:"",endTime:""},tuesday:{startTime:"",endTime:""},wednesday:{startTime:"",endTime:""},thursday:{startTime:"",endTime:""},friday:{startTime:"",endTime:""},saturday:{startTime:"",endTime:""},sunday:{startTime:"",endTime:""}}},validationSchema:i({doctorName:r().required("Enter Name"),gender:r().required("Choose Gender"),email:r().email("Invalid Email").required("Enter Email"),password:r().required("Enter Password"),mobile:r().required("Enter Mobile Number"),spec:r().required("Choose Specialization"),schedule:i().shape({monday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),tuesday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),wednesday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),thursday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),friday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),saturday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")}),sunday:i().shape({startTime:r().required("Required"),endTime:r().required("Required")})})}),onSubmit:(a,{resetForm:l})=>{j(a),l()}});return x.useEffect(()=>{t&&(N.success("Doctor Registered Successfully, Please Login"),b("/login-doctor"))},[t]),x.useEffect(()=>{c&&N.error(m.data?m.data.message:"Something Went Wrong")},[c]),T?e.jsxs("div",{className:"text-center my-5",children:["Please Wait ",e.jsx("div",{className:"spinner-border text-primary"})]}):e.jsx("div",{className:"container mt-2","data-bs-theme":"dark",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-6 offset-sm-3",children:[e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header text-center",children:"New Doctor Registration"}),e.jsxs("div",{className:"card-body",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{...s.getFieldProps("doctorName"),type:"text",className:d("doctorName",s),placeholder:"Enter Name"}),e.jsx("div",{className:"invalid-feedback",children:s.errors.doctorName}),e.jsx("label",{className:"form-label",children:"Gender"}),e.jsxs("select",{...s.getFieldProps("gender"),className:d("gender",s),children:[e.jsx("option",{value:"",children:"Choose Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),e.jsx("div",{className:"invalid-feedback",children:s.errors.gender}),e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{...s.getFieldProps("email"),type:"email",className:d("email",s),placeholder:"Enter Email"}),e.jsx("div",{className:"invalid-feedback",children:s.errors.email}),e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{...s.getFieldProps("password"),type:"password",className:d("password",s),placeholder:"Enter Password"}),e.jsx("div",{className:"invalid-feedback",children:s.errors.password}),e.jsx("label",{className:"form-label",children:"Mobile Number"}),e.jsx("input",{...s.getFieldProps("mobile"),type:"number",className:d("mobile",s),placeholder:"Enter Mobile Number"}),e.jsx("div",{className:"invalid-feedback",children:s.errors.mobile}),e.jsx("label",{className:"form-label",children:"Specialization"}),e.jsx("input",{...s.getFieldProps("spec"),type:"text",className:d("spec",s),placeholder:"Enter Specialization"}),e.jsx("div",{className:"invalid-feedback",children:s.errors.spec}),e.jsx("h5",{className:"mt-3",children:"Doctor's Weekly Schedule"}),Object.keys(s.values.schedule).map(a=>{var l,n,o,u,h,p;return e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:a.charAt(0).toUpperCase()+a.slice(1)}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("input",{type:"time",...s.getFieldProps(`schedule.${a}.startTime`),className:d(`schedule.${a}.startTime`,s)}),e.jsx("input",{type:"time",...s.getFieldProps(`schedule.${a}.endTime`),className:d(`schedule.${a}.endTime`,s)})]}),e.jsx("div",{className:"invalid-feedback",children:(o=(n=(l=s.errors)==null?void 0:l.schedule)==null?void 0:n[a])==null?void 0:o.startTime}),e.jsx("div",{className:"invalid-feedback",children:(p=(h=(u=s.errors)==null?void 0:u.schedule)==null?void 0:h[a])==null?void 0:p.endTime})]},a)}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100 mt-3",children:"Register"})]})]})}),e.jsxs("p",{className:"text-center mt-2",children:["Already Registered? ",e.jsx(v,{to:"/login-doctor",children:"Login Here"})]})]})})})};export{E as default};
